服务器支持多少并发

本以上都通过MongoClient类进行连接，其策略默认就是长连接，而且无法修改。所以连接数其实取决于fpm的客户进程数。如果fpm量太大，必然会导致连接数过多的问题。如果你所有机器上一共有1000个fpm，那么就会创建1000个长连接，按mongodb服务端的策略，每个连接最低消耗1M内存，那这1G内存就没了。

10g机器1w并发
50g机器 50w并发